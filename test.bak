from selenium.webdriver import Chrome
from selenium.webdriver.common.by import By
import time


def test_application_is_reachable(URL: str, driver: Chrome):
    # Arrange & Act
    with driver:
        driver.get(URL)
        driver.maximize_window()

        # Assert
        title = driver.title
        assert "Patient Studio" in title

        heading = driver.find_element(By.TAG_NAME, "h1")
        assert heading.text == "Favorite Characters"

        sub_heading = driver.find_element(By.CSS_SELECTOR, "header > p")
        assert sub_heading.text == "In the Rick & Morty Universe"

        time.sleep(5)


def test_application_web_elements(URL: str, driver: Chrome):
    # Arrange & Act
    with driver:
        driver.get(URL)
        driver.maximize_window()

        # Assert
        heading = driver.find_element(By.TAG_NAME, "h1")
        assert heading.text == "Favorite Characters"

        sub_heading = driver.find_element(By.CSS_SELECTOR, "header > p")
        assert sub_heading.text == "In the Rick & Morty Universe"

        search_field = driver.find_element(By.TAG_NAME, "input")
        placeholder_text = search_field.get_attribute("placeholder")
        assert placeholder_text == "Character name..."

        locations = driver.find_element(By.TAG_NAME, "select")
        assert locations is not None

        character_list = driver.find_element(
            By.CSS_SELECTOR, "button[data-test-id='list-List']")
        assert character_list.get_attribute("innerHTML") == "List"

        favorite_list = driver.find_element(
            By.CSS_SELECTOR, "button[data-test-id='list-Favorites']")
        assert favorite_list.get_attribute("innerHTML") == "Favorites"

        time.sleep(5)
